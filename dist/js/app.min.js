/* workspace creada por jh7a */
function makeJsonOther(a,b,c){var d={},e=[];if(d.id=b.find("code:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="operador",d.etiqueta="suma"==a?"<mo>+</mo>":"resta"==a?"<mo>-</mo>":"mult"==a?"<mo>*</mo>":"<mo>=</mo>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(2)").data("id"),d.etiqueta="",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonRaiz(a,b,c){var d={},e=[];if(d.id=a,d.etiqueta="<msqrt> ",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonNRaiz(a,b,c){var d={},e=[];if(d.id=a,d.etiqueta="<mroot> ",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(3)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonCombi(a,b,c){var d={},e=[];if(d.id=a,d.etiqueta="<mo>(</mo> <mfrac linethickness='0em'>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("div:nth-child(2)").find("div:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("div:nth-child(2)").find("div:nth-child(2)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonFuncionf(a,b,c){var d={},e=[];if(d.id=a,d.etiqueta="<mi>f</mi><mtext>(</mtext>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow><mtext>)</mtext><mo>=</mo>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(2)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonFuncionfn(a,b,c,d){for(var e={},f=[],g=0;c>g;g++){var h="code:nth-child("+(g+1)+")";if(e={},e.id="row",e.etiqueta="<mrow>",e.children=[],d?f.push(e):objson.children.push(e),e={},e.id=b.find(h).data("id"),e.etiqueta="",e.children=[],d?f.push(e):objson.children.push(e),e={},e.id="row",e.etiqueta="</mrow>",e.children=[],g==c-1)if(d){f.push(e);{addNode(b.parent().data("id"),objson,f)}}else objson.children.push(e);else d?f.push(e):objson.children.push(e)}}function makeJsonDivsion(a,b,c){var d={},e=[];if(d.id=a,d.etiqueta="<mo>(</mo> <mfrac linethickness='1px'>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("div:nth-child(2)").find("div:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("div:nth-child(2)").find("div:nth-child(2)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonExpo(a,b,c){var d={},e=[];if(d.id=a,d.etiqueta="expo"==a?"<msup>":"<msub>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(2)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonLog(a,b,c){var d={},e=[];if(d.id="log",d.etiqueta="<mi>"+b.data("content")+"</mi> <msub>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="<mrow>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(2)").data("id"),d.etiqueta="",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id="row",d.etiqueta="</mrow>",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonOneParameter(a,b,c){var d={},e=[];if(d.id="trig",d.etiqueta="<mi>"+b.data("content")+"</mi>",d.children=[],c?e.push(d):objson.children.push(d),d={},d.id=b.find("code:nth-child(1)").data("id"),d.etiqueta="",d.children=[],c){e.push(d);{addNode(b.parent().data("id"),objson,e)}}else objson.children.push(d)}function makeJsonGroup(a){var b={};b.id=a.find("code:nth-child(1)").data("id"),b.etiqueta="",b.children=[],objson.children.push(b)}function makeJsonSummation(a,b){var c={},d={},e=[];c.id=a.data("id");var f=a.data("id");if("sumatoria"==f?c.etiqueta="<munderover><mo>&sum;</mo>":"integral"==f?c.etiqueta="<munderover><mo>&int;</mo>":"multiplicatoria"==f&&(c.etiqueta="<munderover><mo>&#928;</mo>"),c.children=[],d.id=a.find("div:nth-child(3)").find("div:nth-child(2)").data("id"),d.etiqueta="<mtext></mtext>",d.children=[],c.children.push(d),d={},d.id=a.find("div:nth-child(3)").find("div:nth-child(1)").data("id"),d.etiqueta="<mtext></mtext>",d.children=[],c.children.push(d),d={},d.id=a.find("code").data("id"),d.etiqueta="",d.children=[],b){e.push(c),e.push(d);{addNode(a.parent().data("id"),objson,e)}}else objson.children.push(c),objson.children.push(d)}function findNode(a,b){if(a==b.id)return b;for(var c in b.children){var d=b.children[c];if(d.id==a)return d;findNode(a,d)}}function addNode(a,b,c){if(a==b.id)return b.children=c,b;for(var d in b.children){var e=b.children[d];if(e.id==a)return e.children=c,e;addNode(a,e,c)}}function addnewinput(a,b){{var c=$("#base").clone();c.data("id")}c.addClass("card2"),c.removeClass("card"),c.draggable({appendTo:"body",cursor:"move",revert:"invalid",greedy:!0}),c.attr("data-content",a.value),c.attr("data-id",b),$(a).parent().append(c),$(a).parent().css("display","block"),c.children().html(a.value),c.css("border","0px");var d="<mtext>"+a.value+"</mtext>",e=$(a).parent().data("id");$(a).remove(),addvar(e,objson,d),mathml="",stringmathml(objson),UpdateMath("<math>"+mathml+"</math>"),console.log(JSON.stringify(objson)),console.log(mathml)}function removeNode(a,b,c){if(a==b.id)return b.children=c,b;for(var d in b.children){var e=b.children[d];if(e.id==a)return e.children=c,e;addNode(a,e,c)}}function addvar(a,b,c){if(a==b.id)return b.etiqueta=c,b;for(var d in b.children){var e=b.children[d];if(e.id==a)return e.etiqueta=c,e;addvar(a,e,c)}}function stringmathml(a){mathml+=a.etiqueta;var b=!1,c=!1,d=!1,e=!1,f=!1;if(a.children.length>0){for(var g in a.children){var h=a.children[g];h.etiqueta.indexOf("<msqrt>")>=0&&(b=!0),h.etiqueta.indexOf("<mroot>")>=0&&(c=!0),h.etiqueta.indexOf("<msup>")>=0&&(e=!0),h.etiqueta.indexOf("<msub>")>=0&&(d=!0),h.etiqueta.indexOf("linethickness")>=0&&(f=!0,banderanCombiG=!0),stringmathml(h)}b&&(mathml+="</msqrt>"),c&&(mathml+="</mroot>"),e&&(mathml+="</msup>"),d&&(mathml+="</msub>"),f&&(mathml+="</mfrac><mo>)</mo>"),mathml+=""}a.etiqueta.indexOf("{")>=0?mathml+="<mtext>}</mtext>":a.etiqueta.indexOf("(")>=0&&!banderanCombiG&&!banderafuncionf&&!banderafuncionfn?mathml+=banderafactorial?"<mtext>)!</mtext>":"<mtext>)</mtext>":a.etiqueta.indexOf("[")>=0?mathml+="<mtext>]</mtext>":a.etiqueta.indexOf("<munderover>")>=0&&(mathml+="</munderover>")}$(function(){$(".card").draggable({appendTo:"body",cursor:"move",helper:"clone",revert:"invalid",drag:function(){}})}),$(function(){$("#droppable-out").droppable({tolerance:"intersect",accept:".card2",drop:function(a,b){var c=$(b.draggable),d=c.parent().data("id");if("var"==c.data("id")||"cons"==c.data("id")){var e="";addvar(d,objson,e)}else{removeNode(d,objson,[])}mathml="",stringmathml(objson),UpdateMath("<math>"+mathml+"</math>"),c.remove(),c.hasClass("first")&&($(".drop").droppable("enable"),first=!0,UpdateMath("<math></math>"))}})}),$(function(){$(".drop").droppable({tolerance:"intersect",accept:".card",activeClass:"ui-state-default",hoverClass:"drop-p",drop:function(a,b){var c=$(b.draggable).clone(),d=c.data("id");if(c.addClass("card2"),c.removeClass("card"),c.draggable({appendTo:"body",cursor:"move",revert:"invalid",greedy:!0}),"var"==d)c.css("border","0px");else if("cons"==d);else if("llaves"==d||"parentesis"==d||"corchetes"==d||"factorial"==d){c.attr("data-id",++id),c.find("code:nth-child(1)").attr("data-id",++id),objson.id=d,objson.children=[],"llaves"==d?objson.etiqueta="<mtext>{</mtext>":"parentesis"==d?objson.etiqueta="<mtext>(</mtext>":"factorial"==d?(objson.etiqueta="<mtext>(</mtext>",banderafactorial=!0):objson.etiqueta="<mtext>[</mtext>",makeJsonGroup(c);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("sumatoria"==d||"integral"==d||"multiplicatoria"==d){objson.id=++id,objson.etiqueta="",objson.children=[],c.attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(1)").attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(2)").attr("data-id",++id),c.find("code").attr("data-id",++id),makeJsonSummation(c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("trig"==d){objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.attr("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id),makeJsonOneParameter(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("raiz"==d){objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.attr("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id),makeJsonRaiz(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("raiz-n"==d){objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.attr("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(3)").attr("data-id",++id),makeJsonNRaiz(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("expo"==d||"expo-base"==d){objson.id=++id,objson.etiqueta="",objson.children=[],c.data("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(2)").attr("data-id",++id),makeJsonExpo(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("log"==d){objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.data("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(2)").attr("data-id",++id),makeJsonLog(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("combinatoria"==d){objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(1)").attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(2)").attr("data-id",++id),makeJsonCombi(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("funcionf"==d){banderafuncionf=!0,objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.attr("data-id",++id),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(2)").attr("data-id",++id),makeJsonFuncionf(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("func-2"==d||"func-3"==d||"func-4"==d||"func-5"==d){banderafuncionfn=!0;var f=d.substring(d.lastIndexOf("-")+1);objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.attr("data-id",++id);for(var g=0;f>g;g++){var h="code:nth-child("+(g+1)+")";c.find(h).attr("data-id",++id)}makeJsonFuncionfn(d,c,f,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else if("division"==d){objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(1)").attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(2)").attr("data-id",++id),makeJsonDivsion(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}else{c.data("data-id",++id),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(2)").attr("data-id",++id),objson.id=d,objson.etiqueta="",objson.children=[],makeJsonOther(d,c,!1);var e=c.find(".spa");e.addClass("drop2"),e.droppable(funcDroppable)}$(this).children().length<1&&($(this).append(c),$(this).css("padding","0px 0px 0px 6px")),mathml="",stringmathml(objson),UpdateMath("<math>"+mathml+"</math>"),console.log(JSON.stringify(objson)),console.log(mathml),first&&($(this).droppable("disable"),first=!1,c.addClass("first"))}})});var funcDroppable={tolerance:"touch",accept:".card",activeClass:"drop-3",hoverClass:function(){return $(this).children().length<1?"drop-2":""},drop:function(a,b){var c=$(b.draggable).clone(),d=c.data("id");if(c.addClass("card2"),c.removeClass("card"),c.draggable({appendTo:"body",cursor:"move",revert:"invalid",greedy:!0}),$(this).children().length<1&&($(this).append(c),"sumatoria"==d||"integral"==d||"multiplicatoria"==d?$(this).css("display","flex"):$(this).css("display","block")),"var"==d){c.css("border","0px");var e="<mn>"+c.data("content")+"</mn>";addvar(c.parent().data("id"),objson,e)}else if("cons"==d){c.css("border","0px");var e="<mi>"+c.data("content")+"</mi>";addvar(c.parent().data("id"),objson,e)}else if("llaves"==d||"parentesis"==d||"corchetes"==d||"factorial"==d){c.css("border","0px"),c.attr("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id);var f=[],g={};g.id=c.find("code:nth-child(1)").data("id"),"llaves"==d?g.etiqueta="<mtext>{</mtext>":"parentesis"==d||"factorial"==d?g.etiqueta="<mtext>(</mtext>":"corchetes"==d?g.etiqueta="<mtext>[</mtext>":"factorial"==d&&(g.etiqueta="<mtext>(</mtext>"),g.children=[],f.push(g);{addNode(c.parent().data("id"),objson,f)}makeJsonGroup(c);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("sumatoria"==d||"integral"==d||"multiplicatoria"==d){c.css("border","0px"),c.css("display","flex !important"),c.attr("data-id",++id),c.find("div:nth-child(3)").find("div:nth-child(1)").attr("data-id",++id),c.find("div:nth-child(3)").find("div:nth-child(2)").attr("data-id",++id),c.find("code").attr("data-id",++id),makeJsonSummation(c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("expo"==d||"expo-base"==d){c.css("border","0px"),c.css("display","flex !important"),c.attr("data-id",++id),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(2)").attr("data-id",++id),makeJsonExpo(d,c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("trig"==d){c.css("padding","0"),c.css("border","0px"),c.attr("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id),makeJsonOneParameter(d,c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("log"==d){c.css("border","0px"),c.css("display","flex !important"),c.attr("data-id",++id),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(2)").attr("data-id",++id),makeJsonLog(d,c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("combinatoria"==d){c.css("border","0px"),c.css("display","flex !important"),c.attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(1)").attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(2)").attr("data-id",++id),makeJsonCombi(d,c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("funcionf"==d){banderafuncionf=!0,c.css("border","0px"),c.css("display","flex !important"),c.attr("data-id",++id),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(2)").attr("data-id",++id),makeJsonFuncionf(d,c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("func-2"==d||"func-3"==d||"func-4"==d||"func-5"==d){banderafuncionfn=!0;var i=d.substring(d.lastIndexOf("-")+1);objson.id=++id,objson.etiqueta="",objson.children=[],c.css("padding","0"),c.css("border","0px"),c.attr("data-id",++id);for(var j=0;i>j;j++){var k="code:nth-child("+(j+1)+")";c.find(k).attr("data-id",++id)}makeJsonFuncionfn(d,c,i,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("division"==d){c.css("border","0px"),c.css("display","flex !important"),c.attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(1)").attr("data-id",++id),c.find("div:nth-child(2)").find("div:nth-child(2)").attr("data-id",++id),makeJsonDivsion(d,c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else if("raiz-n"==d){c.css("padding","0"),c.css("border","0px"),c.attr("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(3)").attr("data-id",++id),makeJsonNRaiz(d,c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}else{c.css("border","0px"),c.attr("data-id",$(this).data("id")),c.find("code:nth-child(1)").attr("data-id",++id),c.find("code:nth-child(2)").attr("data-id",++id),makeJsonOther(d,c,!0);var h=c.find(".spa");h.addClass("drop2"),h.droppable(funcDroppable)}mathml="",stringmathml(objson),UpdateMath("<math>"+mathml+"</math>"),console.log(JSON.stringify(objson)),console.log(mathml)}};$(document).ready(function(){function a(){$("#formEspecifica").fadeOut("fast"),$("#formUniforme").fadeOut("fast"),$("#formCategorica").fadeOut("fast")}console.log("sisas"),$("#rootwizard").bootstrapWizard(),$("#valor").rating(),$("#valorA").rating(),$("#varEspecifica").click(function(){a(),console.log("var especifca"),$("#formEspecifica").fadeIn()}),$("#varUniforme").click(function(){a(),console.log("var uniforme"),$("#formUniforme").fadeIn()}),$("#varCategorica").click(function(){a(),console.log("var categorica"),$("#formCategorica").fadeIn()})});
//# sourceMappingURL=app.min.js.map